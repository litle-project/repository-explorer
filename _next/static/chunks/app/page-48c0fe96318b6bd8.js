(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2083:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(5155);t(5786);var l=t(4147),n=t.n(l),r=t(8489),i=t.n(r);function c(e){let{children:s}=e;return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"".concat(n().variable," ").concat(i().variable," antialiased"),children:s})})}var d=t(6766),o=t(2115);let h=e=>{let{loading:s={status:!1,message:""},label:t="Button",handler:l}=e;return(0,a.jsxs)("button",{className:"w-full text-white py-1 cursor-pointer rounded-sm flex items-center gap-2 justify-center ".concat(s.status?"bg-gray-400":"bg-blue-400 hover:bg-blue-500"),type:"button",disabled:s.status,onClick:l,children:[(0,a.jsx)(d.default,{className:"animate-spin ".concat(s.status?"":"hidden"),src:"/assets/images/spinner.svg",alt:"loading_icon",width:20,height:20}),(0,a.jsx)("span",{children:t})]})},u=()=>(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(d.default,{src:"/assets/images/empty.svg",className:"text-gray-300",alt:"empty",width:100,height:100}),(0,a.jsx)("span",{className:"font-bold text-gray-400",children:"No Content Found"})]})}),m=e=>{let{type:s="text",handler:t,error:l="",eventKey:n=()=>{},placeholder:r="Input here"}=e;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("input",{type:s,className:"w-full px-4 h-10 bg-gray-50 border placeholder-gray-700 text-sm rounded-sm focus:outline-1 ".concat(""!==l?"border-red-500":"border-gray-300"),placeholder:r,onKeyUp:e=>{let s=e.target.value;"Enter"===e.key&&n(s)},onChange:e=>{let{target:{value:s}}=e;return t(s)}}),""!==l&&(0,a.jsx)("span",{className:"text-xs text-red-500",children:l})]})},g=()=>{let[e,s]=(0,o.useState)(""),[t,l]=(0,o.useState)([]),[n,r]=(0,o.useState)(0),[i,g]=(0,o.useState)(!1),[x,p]=(0,o.useState)(""),[f,j]=(0,o.useState)({status:!1,message:""}),v=async()=>{j(e=>({...e,message:"Now, fetching repository on progress..."}));let e=t.map(e=>fetch("https://api.github.com/users/".concat(e.name,"/repos")).then(e=>e.json()));await Promise.all(e).then(e=>{e.forEach((e,s)=>{let a=e.map(e=>({id:e.id,name:e.name,description:e.description,totalFork:e.forks_count||0}));t[s].repos.push(...a)})}),j({status:!1,message:""})},b=async function(){var s;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e||""===t)return p("Please insert username!");j({status:!0,message:"Please wait while searching username..."});let a=new URLSearchParams({q:e,per_page:"5"}),n=await fetch("https://api.github.com/search/users?".concat(a.toString())),r=await n.json(),c=(null==r?void 0:null===(s=r.items)||void 0===s?void 0:s.map(e=>({id:e.id,name:e.login,repos:[]})))||[];l(c),p(""),c.length>0?j(e=>({...e,message:"Username fetched"})):j({status:!1,message:""}),i||g(!0)};return(0,o.useEffect)(()=>{t.length>0&&v()},[t]),(0,a.jsx)(c,{children:(0,a.jsx)("div",{className:"flex justify-center w-full bg-white",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 py-5 px-2 lg:w-1/2 w-full bg-gray-100 h-full min-h-lvh",children:[(0,a.jsx)(m,{placeholder:"Enter username",error:x,handler:e=>s(e),eventKey:e=>b(e)}),(0,a.jsx)(h,{label:f.status?f.message:"Search",handler:()=>b(),loading:f}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:t.length>0?t.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("button",{onClick:()=>r(n===e.id?0:e.id),className:"bg-gray-200 p-2.5 flex justify-between items-center cursor-pointer",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)(d.default,{src:n===e.id?"/assets/images/arrow-up.svg":"/assets/images/arrow-down.svg",alt:"arrow_down",width:25,height:25})]}),(0,a.jsx)("div",{className:"pl-5 flex-col gap-2 ".concat(n===e.id?"flex":"hidden"),children:e.repos.map(e=>(0,a.jsxs)("div",{className:"p-2.5 bg-gray-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center font-bold",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{children:e.totalFork}),(0,a.jsx)(d.default,{src:"/assets/images/favorite.svg",alt:"arrow_down",width:18,height:18})]})]}),(0,a.jsx)("p",{className:"text-sm",children:(null==e?void 0:e.description)||"-"})]},e.id))})]},e.id)):i&&(0,a.jsx)(u,{})})]})})})}},2606:(e,s,t)=>{Promise.resolve().then(t.bind(t,2083))},5786:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[559,474,441,684,358],()=>s(2606)),_N_E=e.O()}]);
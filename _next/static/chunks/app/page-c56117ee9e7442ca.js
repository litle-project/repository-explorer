(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2083:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5155);t(5786);var l=t(4147),r=t.n(l),n=t(8489),i=t.n(n);function c(e){let{children:s}=e;return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"".concat(r().variable," ").concat(i().variable," antialiased"),children:s})})}var o=t(6766),d=t(2115);let h=e=>{let{loading:s={status:!1,message:""},label:t="Button",handler:l}=e;return(0,a.jsxs)("button",{className:"w-full text-white py-1 cursor-pointer rounded-sm flex items-center gap-2 justify-center ".concat(s.status?"bg-gray-400":"bg-blue-400 hover:bg-blue-500"),type:"button",disabled:s.status,onClick:l,children:[(0,a.jsx)(o.default,{className:"animate-spin ".concat(s.status?"":"hidden"),src:"".concat("/repository-explorer","/assets/images/spinner.svg"),alt:"loading_icon",width:20,height:20}),(0,a.jsx)("span",{children:t})]})},u=()=>(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(o.default,{src:"".concat("/repository-explorer","/assets/images/empty.svg"),className:"text-gray-300",alt:"empty",width:100,height:100}),(0,a.jsx)("span",{className:"font-bold text-gray-400",children:"No Content Found"})]})}),m=e=>{let{type:s="text",handler:t,error:l="",eventKey:r=()=>{},placeholder:n="Input here"}=e;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("input",{type:s,className:"w-full px-4 h-10 bg-gray-50 border placeholder-gray-700 text-sm rounded-sm focus:outline-1 ".concat(""!==l?"border-red-500":"border-gray-300"),placeholder:n,onKeyUp:e=>{let s=e.target.value;"Enter"===e.key&&r(s)},onChange:e=>{let{target:{value:s}}=e;return t(s)}}),""!==l&&(0,a.jsx)("span",{className:"text-xs text-red-500",children:l})]})},p=()=>{let e="/repository-explorer",[s,t]=(0,d.useState)(""),[l,r]=(0,d.useState)([]),[n,i]=(0,d.useState)(0),[p,g]=(0,d.useState)(!1),[x,f]=(0,d.useState)(""),[j,v]=(0,d.useState)({status:!1,message:""}),b=async()=>{v(e=>({...e,message:"Now, fetching repository on progress..."}));let e=l.map(e=>fetch("https://api.github.com/users/".concat(e.name,"/repos")).then(e=>e.json()));await Promise.all(e).then(e=>{e.forEach((e,s)=>{let t=e.map(e=>({id:e.id,name:e.name,description:e.description,totalFork:e.forks_count||0}));l[s].repos.push(...t)})}),v({status:!1,message:""})},y=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=s;if(t&&(a=t),""===a)return f("Please insert username!");v({status:!0,message:"Please wait while searching username..."});let l=new URLSearchParams({q:a,per_page:"5"}),n=await fetch("https://api.github.com/search/users?".concat(l.toString())),i=await n.json(),c=(null==i?void 0:null===(e=i.items)||void 0===e?void 0:e.map(e=>({id:e.id,name:e.login,repos:[]})))||[];r(c),f(""),c.length>0?v(e=>({...e,message:"Username fetched"})):v({status:!1,message:""}),p||g(!0)};return(0,d.useEffect)(()=>{l.length>0&&b()},[l]),(0,a.jsx)(c,{children:(0,a.jsx)("div",{className:"flex justify-center w-full bg-white",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 py-5 px-2 lg:w-1/2 w-full bg-gray-100 h-full min-h-lvh",children:[(0,a.jsx)(m,{placeholder:"Enter username",error:x,handler:e=>t(e),eventKey:e=>y(e)}),(0,a.jsx)(h,{label:j.status?j.message:"Search",handler:()=>y(),loading:j}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:l.length>0?l.map(s=>(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("button",{onClick:()=>i(n===s.id?0:s.id),className:"bg-gray-200 p-2.5 flex justify-between items-center cursor-pointer",children:[(0,a.jsx)("span",{children:s.name}),(0,a.jsx)(o.default,{src:n===s.id?"".concat(e,"/assets/images/arrow-up.svg"):"".concat(e,"/assets/images/arrow-down.svg"),alt:"arrow_down",width:25,height:25})]}),(0,a.jsx)("div",{className:"pl-5 flex-col gap-2 ".concat(n===s.id?"flex":"hidden"),children:s.repos.map(s=>(0,a.jsxs)("div",{className:"p-2.5 bg-gray-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center font-bold",children:[(0,a.jsx)("span",{children:s.name}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{children:s.totalFork}),(0,a.jsx)(o.default,{src:"".concat(e,"/assets/images/favorite.svg"),alt:"arrow_down",width:18,height:18})]})]}),(0,a.jsx)("p",{className:"text-sm",children:(null==s?void 0:s.description)||"-"})]},s.id))})]},s.id)):p&&(0,a.jsx)(u,{})})]})})})}},2606:(e,s,t)=>{Promise.resolve().then(t.bind(t,2083))},5786:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[559,474,441,684,358],()=>s(2606)),_N_E=e.O()}]);